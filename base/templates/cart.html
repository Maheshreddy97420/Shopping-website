{% extends 'main.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'cart.css' %}">
{% endblock %}

{% block html %}
<div class="cart-wrapper">
    <h2 class="cart-title">Your Cart</h2>

    {% if data %}
        <div class="cart-table">
            <table>
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Product</th>
                        <th>Category</th>
                        <th>Price</th>
                        <th>Quantity</th>
                        <th>Total</th>
                        <th>Remove</th>
                    </tr>
                </thead>

                <tbody>
                    {% for items in data %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ items.pname }}</td>
                        <td>{{ items.pcategory }}</td>
                        <td>â‚¹ {{ items.price }}</td>

                        <td class="qty">
                            <a href="{% url 'decrease' items.id %}" class="qty-btn minus">âˆ’</a>
                            <span>{{ items.quantity }}</span>
                            <a href="{% url 'increase' items.id %}" class="qty-btn plus">+</a>
                        </td>

                        <td>â‚¹ {{ items.totalPrice }}</td>

                        <td>
                            <a href="{% url 'remove' items.id %}" class="remove-btn">Remove</a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="cart-summary">
            <h3>Total Amount</h3>
            <h2>â‚¹ {{ TA }}</h2>
            <a href="#" class="checkout-btn">Proceed to Checkout</a>
        </div>
    {% else %}
        <p class="empty-cart">Your cart is empty ðŸ›’</p>
    {% endif %}
</div>
{% endblock %}
